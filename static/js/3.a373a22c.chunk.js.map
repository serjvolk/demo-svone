{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogItem","props","path","id","to","activeClassName","s","activeLink","name","Message","classTypeMessage","typeMessage","message__left","message__right","className","message","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","form","message__input","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeholder","Dialogs","dialogsElements","dialogsPage","dialogs","map","messagesElements","messages","msg","message__row","message__peopleList","title","list","message__content","message__messageList","values","sendMessage","newMessageBody","mapStateToPropsForRedirect","state","isAuth","auth","compose","connect","dispatch","sendMessageActionCreator","Component","RedirectComponent","this","React"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,oBAAsB,qCAAqC,MAAQ,uBAAuB,KAAO,sBAAsB,WAAa,4BAA4B,iBAAmB,kCAAkC,qBAAuB,sCAAsC,eAAiB,gCAAgC,cAAgB,+BAA+B,eAAiB,kC,sGCWtdC,MATf,SAAqBC,GACjB,IAAIC,EAAO,YAAcD,EAAME,GAC/B,OACI,6BACI,cAAC,IAAD,CAASC,GAAIF,EAAMG,gBAAiBC,IAAEC,WAAtC,SAAmDN,EAAMO,UCItDC,MATf,SAAiBR,GACb,IAAIS,GAA0C,IAAtBT,EAAMU,YAAwBL,IAAEM,cAAgBN,IAAEO,eAC1E,OACI,qBAAKC,UAAWJ,EAAhB,SACI,4BAAIT,EAAMc,a,iCCmCtB,IAAMC,EAAcC,YAAiB,IAc/BC,EAAsBC,YAAU,CAACC,KAAK,wBAAhBD,EAZL,SAAClB,GACpB,OACI,uBAAMa,UAAWR,IAAEe,eAAgBC,SAAUrB,EAAMsB,aAAnD,UACI,cAACC,EAAA,EAAD,CAAOC,UAAWC,IACXC,SAAU,CAACC,IAAUZ,GACrBR,KAAM,iBACNqB,YAAa,uBACpB,kGAOGC,EAjDf,SAAkB7B,GACd,IAAI8B,EAAkB9B,EAAM+B,YAAYC,QAAQC,KAAI,SAACD,GAAD,OAAa,cAAC,EAAD,CAAYzB,KAAMyB,EAAQzB,KAAML,GAAI8B,EAAQ9B,IAC3B8B,EAAQ9B,OACtFgC,EAAmBlC,EAAM+B,YAAYI,SAASF,KAAI,SAACG,GAAD,OAAS,cAAC,EAAD,CAAStB,QAASsB,EAAIA,IACb1B,YAAa0B,EAAI1B,aACZ0B,EAAIlC,OAMjF,OACI,qBAAKW,UAAWR,IAAES,QAAlB,SACI,qBAAKD,UAAU,YAAf,SACI,sBAAKA,UAAWR,IAAEgC,aAAlB,UACI,sBAAKxB,UAAWR,IAAEiC,oBAAlB,UACI,mBAAGzB,UAAWR,IAAEkC,MAAhB,wDACA,oBAAI1B,UAAWR,IAAEmC,KAAjB,SACKV,OAGT,sBAAKjB,UAAWR,IAAEoC,iBAAlB,UACI,qBAAK5B,UAAWR,IAAEqC,qBAAlB,SACKR,IAEL,cAACjB,EAAD,CAAqBI,SAlBrB,SAACsB,GACjB3C,EAAM4C,YAAYD,EAAOE,8B,uDCZ7BC,EAA6B,SAACC,GAAD,MAAY,CACzCC,OAAQD,EAAME,KAAKD,S,OCkBRE,sBACXC,aAhBkB,SAACJ,GACnB,MAAO,CACHhB,YAAagB,EAAMhB,gBAKF,SAACqB,GACtB,MAAO,CACHR,YAAa,SAACC,GACVO,EAASC,YAAyBR,UDVd,SAACS,GAAe,IACtCC,EADqC,4JAEvC,WACI,OAAKC,KAAKxD,MAAMgD,OACT,cAACM,EAAD,eAAeE,KAAKxD,QADI,cAAC,IAAD,CAAUG,GAAI,eAHV,GACXsD,IAAMH,WAStC,OAFqCH,YAAQL,EAARK,CAAoCI,KCO9DL,CAGbrB","file":"static/js/3.a373a22c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Dialogs_message__fFQp0\",\"message__row\":\"Dialogs_message__row__2udvj\",\"message__peopleList\":\"Dialogs_message__peopleList__3RKUY\",\"title\":\"Dialogs_title__3_SBU\",\"list\":\"Dialogs_list__2unHB\",\"activeLink\":\"Dialogs_activeLink__3m1Fy\",\"message__content\":\"Dialogs_message__content__2d8tk\",\"message__messageList\":\"Dialogs_message__messageList__3h-cN\",\"message__input\":\"Dialogs_message__input__12kmz\",\"message__left\":\"Dialogs_message__left__17AkM\",\"message__right\":\"Dialogs_message__right__X61jY\"};","import s from './../Dialogs.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nfunction DialogItem (props) {\r\n    let path = \"/dialogs/\" + props.id;\r\n    return (\r\n        <li>\r\n            <NavLink to={path} activeClassName={s.activeLink}>{props.name}</NavLink>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default DialogItem;","import s from './../Dialogs.module.css';\r\n\r\nfunction Message(props) {\r\n    let classTypeMessage = (props.typeMessage === true) ? s.message__left : s.message__right;\r\n    return(\r\n        <div className={classTypeMessage}>\r\n            <p>{props.message}</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Message;","import s from './Dialogs.module.css';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\n\r\nfunction Dialogs (props) {\r\n    let dialogsElements = props.dialogsPage.dialogs.map((dialogs) => <DialogItem name={dialogs.name} id={dialogs.id}\r\n                                                                                 key={dialogs.id}/>);\r\n    let messagesElements = props.dialogsPage.messages.map((msg) => <Message message={msg.msg}\r\n                                                                            typeMessage={msg.typeMessage}\r\n                                                                            key={msg.id}/>);\r\n\r\n    let addNewMessage = (values) => {\r\n        props.sendMessage(values.newMessageBody);\r\n    }\r\n\r\n    return (\r\n        <div className={s.message}>\r\n            <div className=\"container\">\r\n                <div className={s.message__row}>\r\n                    <div className={s.message__peopleList}>\r\n                        <p className={s.title}>Диалоги</p>\r\n                        <ul className={s.list}>\r\n                            {dialogsElements}\r\n                        </ul>\r\n                    </div>\r\n                    <div className={s.message__content}>\r\n                        <div className={s.message__messageList}>\r\n                            {messagesElements}\r\n                        </div>\r\n                        <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form className={s.message__input} onSubmit={props.handleSubmit}>\r\n            <Field component={Textarea}\r\n                   validate={[required, maxLength50]}\r\n                   name={\"newMessageBody\"}\r\n                   placeholder={\"Enter your message\"} />\r\n            <button>Отправить</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form:\"dialogAddMessageForm\"})(AddMessageForm);\r\n\r\nexport default Dialogs;","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component{\r\n        render(){\r\n            if (!this.props.isAuth) return <Redirect to={\"/login\"}/>;\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","import React from \"react\";\r\nimport {sendMessageActionCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n// Формируем данные для Dialogs\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\n\r\n// Формируем колбэки для Dialogs\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageBody) => {\r\n            dispatch(sendMessageActionCreator(newMessageBody));\r\n        }\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs);"],"sourceRoot":""}